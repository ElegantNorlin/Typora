---
title: Swift基础类型
date: 2021-4-28 16:05:00
tags: Swift
toc: true
description: "当你启动Xcode时，它会询问你想要做的事情，选择Get Started with a Playground。Playground是一个可以供你输入Swift代码并立即看到结果的沙盒环境。"
---







### 变量

当你启动Xcode时，它会询问你想要做的事情，选择"Get Started with a Playground"。Playground是一个可以供你输入Swift代码并立即看到结果的沙盒环境。

默认的，Xcode将提供一个iOS编程环境的空白Playground, 点击Next，然后再点击Create，将Playground保存到你的系统桌面。

在这个视频中，我将向你介绍“变量”，它们是你用来存储程序数据的地方。之所以被称为“变量”，是因为它们可变，即你可以自由地改变它们的值。

我们将从在Playground中的第一行代码开始了解“变量”，它是一行创建了一个名称为“str”， 值为“Hello, playground”的字符串变量的代码

```swift
var str = "Hello, playground"
```

这行代码创建了一个名为str的新变量, 并给它赋值为“Hello, playground”。在Playground右侧的输出区域你可以看到“Hello, playground” – 这是Xcode在展示我们刚刚给str设置的值。

既然str是一个变量，我们就可以改变它:

```swift
str = "Goodbye"
```

第二次的时候，你不需要再写一次var，因为这个变量在前面已经被创建过了 – 我们只需要改变它。





### 字符串和整型

Swift是一门类型安全的编程语言，类型安全特指的含义包括：每一个变量都必须有一个特定的“类型”。Xcode为我们创建的str变量拥有一个由字母组合“Hello, playground”组成的字符串，所以Swift为这个变量赋予了String类型。

换句话说，如果我们想存储一个人的年龄，那我们可能需要创建这样一个变量：

```swift
var age = 38
```

这个变量拥有一个整数， 所以Swift赋予它Int类型 – Int是“integer”的简写。

如果你的数比较大，Swift允许使用下划线作为千位分隔符。这些分隔符不会改变数字代表的绝对数值，它们只是让数字阅读起来更方便。例如：

```swift
var population = 8_000_000
```

String和Int是不同的类型，不能混用。因此，你可以把str的值改成“Goodbye”，但你不能把它改成38，因为38是一个Int类型，不是一个String类型。

### 多行字符串

标准的Swift字符串使用双引号表示，但在双引号之间你不能换行。

如果你想要表示多行的字符串，需要使用将双引号首尾的引号个数由一个改成三个，像下面这样：

```swift
var str1 = """ 这个字符串\n 跨越了 \n多行 """
```

Swift对于书写这些引号有着特别的规定：开始的三个引号和结束的三个引号都必须独占一行，但它们占的那两行都不会算进最终的字符串里。

假如你只是想利用多行字符串来使代码看起来更整洁，你可以通过在每行的行尾添加一个\来确保换行不会进入最终的字符串， 就像这样：

```swift
var str2 = """ 这个字符串 \ 看起来跨越了多行， \ 实际上没有 """
```

### 双精度浮点型和布尔型

Swift中还有两种基础的数据类型，它们是双精度浮点数类型和布尔类型，你将会经常用到它们。

”Double”被用来代表“双精度浮点数”，这是表示诸如38.1, 或者3.141592654这样的小数的一种高级的说法。

每当你通过一个分数创建一个变量时，Swift都会自动赋予这个变量Double类型。举个例子：

```swift
var pi = 3.141
```

双精度浮点数有别于整数，也不能混用。

至于布尔类型则更简单一些：它们只有true和false两种值，所以当你用true或者false创建一个变量时，Swift会自动赋予这个变量布尔类型

举个例子：

```swift
var awesome = true
```

### 字符串插值

你已经在前面学到了如何在代码中直接输入字符串的值，不过Swift还提供了一种被称为“字符串插值”的特性。这个特性允许你在字符串值里插入变量，从而动态地给一个String类型的变量赋值。

在字符串内部，你可以放置任意类型，任意数量的变量。要放置这些变量，你需要以一个反斜杠开始，即\，然后跟上用圆括号包起来的变量名。举个例子：

```swift
var score = 85 var str = "你的分数是\(score)"
```

你将会在Playground的输出区域里看到，上面的操作会把 str变量的值设置为“你的分数是85”。

多尝试几次，通过字符串插值组合出任何你想要的字符串。

```swift
var results = "测试结果如下：\(str)"
```

在之后你还会学到，字符串插值不仅可以用来放置变量，还可以用来运行代码。

### 常量

前面提到变量之所以被称为变量是因为你可以随着时间的推移改变它们，这一点非常有用。不过，有些时候你只需要设置一次值然后就不再改变了，这种情况下我们使用常量。对应给变量用的var关键字，常量用let关键字表示。

let关键字用来声明常量，常量的值只能被设置一次，并且无法被修改。举个例子：

```swift
let taylor = "swift"
```

如果你尝试改变常量的值，Xcode会拒绝运行你的代码。这是一种安全机制，以防止你失手改变一些本来不应该被改变的东西。

在书写Swift代码的时候，除非你明确想要改变，你应当尽量使用let关键字。实际上，如果你用了var声明变量但之后都没有再对它进行改变，Xcode将会发出警告。

### 类型注解

Swift基于变量和常量在创建时被赋予的值为它们分配了一个类型。因此，当你书写如下的代码时，Swift知道这里面包含了一个字符串：

```swift
let str = "Hello, playground"
```

它将把str当作一个String类型，因此之后你就不能再给它赋值一个整数值或者布尔值。这个过程被称为类型推断。SwiftSwift能够基于你创建一个东西的方式来推断它的类型。

如果你想显式地声明数据的类型而不是依赖Swift的类型推断，你可以这么写：

```swift
let album: String = "Reputation"
let year: Int = 1989
let height: Double = 1.78
let isReady: Bool = true
```

留心布尔类型的缩写名是Bool，同样地，整数类型也是采用缩写的Int。

### 总结

让我们来总结一下。

- 我们使用var来创建变量，使用let来创建常量。如无必要使用变量，应当尽可能地使用常量。
- String类型通常以双引号来开始和结束。如果你想要字符串能够跨越多行，则需要把引号替换为三个。
- Int类型存储整数，Double存储小数，而Bool则存储true或者false。
- 字符串插值允许你通过在字符串内部放置其他的变量和常量的方式来创建新的字符串。
- Swift通过类型推断来给变量或者常量分配类型，不过你也可以显式地提供类型。