---

---





### 简单的模式匹配算法（暴力匹配算法）

```c
int Index(String S,String T){
  int i = 1,j = 1;
  while(i <= S.length && j <= T.length){
    if(S.ch[i] == T.ch[j]){
      //继续比较后继字符
      ++i;
      ++j;
    }else{
      //指针后退重新开始匹配，j的数值重置为1
      i = i - j + 2;
      j = 1;
    }
  }
  //当j的数值大于模式串的长度时表示匹配成功
  if(j > T.length){
    //返回匹配成功的索引值
    return i - T.length;
  }else{
    return 0;
  }
}
```

### KMP算法

KMP算法的特点就是当匹配失败的时候不需要回溯，而暴力匹配算法需要回溯。

```c
int Index_KMP(String S,String T){
  int i = 1,j = 1;
  int next[T.length + 1];
  get_next(T,next);
  while(i <= S.length && j <= T.length){
    if(j == 0 || S.ch[i] == T.ch[j]){
      //继续比较后续字符
      ++i;
      ++j;
    }else{
      //模式串向右移动
      j = next[j];
    }
  }
  if(j > T.length){
    //匹配成功
    return i - T.length;
  }else{
    return 0;
  }
}

void get_next(String T,int next[]){
  int i = 1,j = 0;
  next[1] = 0;
  while(i < T.length){
    if(j == 0 || T.ch[i] == T.ch[j]){
      ++i;
      ++j;
      next[i] = j;
    }else{
      j = next[i];
    }
  }
}
```

